import{_ as d,R as p,r as i,o as _,c as m,a as e,b as s,w as r,d as u,i as g,F as k}from"./index-4daee2f1.js";const{VITE_APP_API:f}={VITE_APP_API:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"charizard",BASE_URL:"/week7/",MODE:"production",DEV:!1,PROD:!0},$={components:{RouterView:p},methods:{logout(){document.cookie=`hexToken=;expires=${new Date}`,this.$router.push("/login")},checkLogin(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=n;const t=`${f}/api/user/check`;console.log(`token:${n}`),this.$http.post(t).then(o=>{console.log(o),o.data.success||this.$router.push("/login")}).catch(o=>{console.log(`no login:${o.response.data.message}`),alert(o.response.data.message),this.$router.push("/login")})}},mounted(){this.checkLogin()}},V=u("hr",null,null,-1);function P(n,t,o,w,x,c){const a=i("router-link"),l=i("RouterView");return _(),m(k,null,[e(" 這是後台頁面 "),s(a,{to:"/admin/orders"},{default:r(()=>[e("訂單列表")]),_:1}),e("| "),s(a,{to:"/admin/products"},{default:r(()=>[e("產品列表")]),_:1}),e("| "),s(a,{to:"/"},{default:r(()=>[e("返回前台")]),_:1}),e("| "),u("a",{href:"#",onClick:t[0]||(t[0]=g((...h)=>c.logout&&c.logout(...h),["prevent"]))},"登出"),V,s(l)],64)}const E=d($,[["render",P]]);export{E as default};
